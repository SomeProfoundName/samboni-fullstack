---
import { getNavigation } from '../util/getNavigation';

const navigation = await getNavigation();
const { brandName, brandLink, navItems } = navigation;
---

<div class="px-6 top-3 z-100 w-full">
    <div class="navbar bg-transparent border-b border-accent">
        <div class="flex-1">
            <a href={brandLink} class="text-2xl md:text-4xl font-['Fraunces'] font-black">{brandName}</a>
        </div>
        <div class="font-['Fraunces'] flex items-center gap-3">
            <!-- Hamburger menu for small screens -->
            <div class="dropdown dropdown-end md:hidden">
                <label tabindex="0" class="nav-button cursor-pointer p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </label>
                <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-300 rounded-box w-52 mt-3 text-base-content">
                    {navItems.map((item) => (
                        <li>
                            <a
                                href={item.link}
                                class="font-bold hover:bg-base-200 rounded-none"
                                target={item.openInNewTab ? '_blank' : undefined}
                                rel={item.openInNewTab ? 'noopener noreferrer' : undefined}
                            >
                                {item.label.toUpperCase()}
                            </a>
                        </li>
                    ))}
                </ul>
            </div>

            <!-- Desktop menu items -->
            {navItems.map((item) => (
                <a
                    href={item.link}
                    class="nav-button font-bold hidden md:inline-flex"
                    target={item.openInNewTab ? '_blank' : undefined}
                    rel={item.openInNewTab ? 'noopener noreferrer' : undefined}
                >
                    {item.label.toUpperCase()}
                </a>
            ))}

            <!-- Cart button (always visible) -->
            <label for="my-drawer-5" class="nav-button cursor-pointer relative">
                <div class="pointer-events-none">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 fill-current" viewBox="0 -960 960 960"><path d="M200-80q-33 0-56.5-23.5T120-160v-480q0-33 23.5-56.5T200-720h80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720h80q33 0 56.5 23.5T840-640v480q0 33-23.5 56.5T760-80H200Zm0-80h560v-480H200v480Zm280-240q83 0 141.5-58.5T680-600h-80q0 50-35 85t-85 35q-50 0-85-35t-35-85h-80q0 83 58.5 141.5T480-400ZM360-720h240q0-50-35-85t-85-35q-50 0-85 35t-35 85ZM200-160v-480 480Z"/></svg>
                    <span id="cart-count" class="badge badge-sm badge-soft bg-info border-none rounded-full badge-info-content absolute top-0 -right-2  ">0</span>
                </div>
            </label>
        </div>
    </div>
</div>

